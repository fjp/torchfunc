


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>torchfunc.record &mdash; torchfunc  documentation</title>
  

  
  
  
  
    <link rel="canonical" href="https://szymonmaszke.github.io/torchfunc/packages/torchfunc.record.html"/>
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!-- <link rel="stylesheet" href="../_static/pygments.css" type="text/css" /> -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/katex-math.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Related projects" href="../related.html" />
    <link rel="prev" title="torchfunc.plot" href="torchfunc.plot.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

  <!-- Preload the theme fonts -->

<link rel="preload" href="../_static/fonts/FreightSans/freight-sans-book.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/FreightSans/freight-sans-medium.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/IBMPlexMono/IBMPlexMono-Medium.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/FreightSans/freight-sans-bold.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/FreightSans/freight-sans-medium-italic.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/IBMPlexMono/IBMPlexMono-SemiBold.woff2" as="font" type="font/woff2" crossorigin="anonymous">

<!-- Preload the katex fonts -->

<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Math-Italic.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Main-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Main-Bold.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size1-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size4-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size2-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size3-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Caligraphic-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
</head>

<div class="container-fluid header-holder tutorials-header" id="header-holder">
  <div class="container">
    <div class="header-container">
      <div class="main-menu">
        <ul>
          <li>
            <a href="https://szymonmaszke.github.io/torchfunc/#torchfunc">Documentation</a>
          </li>

          <li>
            <a href="https://szymonmaszke.github.io/torchfunc/#installation">Installation</a>
          </li>

          <li>
            <a href="https://szymonmaszke.github.io/torchfunc/related.html">Related Projects</a>
          </li>

          <li>
            <a href="https://github.com/szymonmaszke/torchfunc">Github</a>
          </li>
        </ul>
      </div>

      <a class="main-menu-open-button" href="#" data-behavior="open-mobile-menu"></a>
    </div>

  </div>
</div>


<body class="pytorch-body">

   

    

    <div class="table-of-contents-link-wrapper">
      <span>Table of Contents</span>
      <a href="#" class="toggle-table-of-contents" data-behavior="toggle-table-of-contents"></a>
    </div>

    <nav data-toggle="wy-nav-shift" class="pytorch-left-menu" id="pytorch-left-menu">
      <div class="pytorch-side-scroll">
        <div class="pytorch-menu pytorch-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          <div class="pytorch-left-menu-search">
            

            
              
              
                <div class="version">
                  0.1.0
                </div>
              
            

            


  


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search Docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

            
          </div>

          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="torchfunc.html">torchfunc</a></li>
<li class="toctree-l1"><a class="reference internal" href="torchfunc.cuda.html">torchfunc.cuda</a></li>
<li class="toctree-l1"><a class="reference internal" href="torchfunc.module.html">torchfunc.module</a></li>
<li class="toctree-l1"><a class="reference internal" href="torchfunc.performance.html">torchfunc.performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="torchfunc.plot.html">torchfunc.plot</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">torchfunc.record</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../related.html">Related projects</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <div class="pytorch-container">
      <div class="pytorch-page-level-bar" id="pytorch-page-level-bar">
        <div class="pytorch-breadcrumbs-wrapper">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="pytorch-breadcrumbs">
    
      <li>
        <a href="../index.html">
        </a> &gt;
      </li>

        
      <li>torchfunc.record</li>
    
    
      <li class="pytorch-breadcrumbs-aside">
        
            
            <a href="../_sources/packages/torchfunc.record.rst.txt" rel="nofollow"><img src="../_static/images/view-page-source-icon.svg"></a>
          
        
      </li>
    
  </ul>

  
</div>
        </div>

        <div class="pytorch-shortcuts-wrapper" id="pytorch-shortcuts-wrapper">
          Shortcuts
        </div>
      </div>

      <section data-toggle="wy-nav-shift" id="pytorch-content-wrap" class="pytorch-content-wrap">
        <div class="pytorch-content-left">
          
          <div class="rst-content">
          
            <div role="main" class="main-content" itemscope="itemscope" itemtype="http://schema.org/Article">
             <article itemprop="articleBody" id="pytorch-article" class="pytorch-article">
              
  <div class="section" id="module-torchfunc.record">
<span id="torchfunc-record"></span><h1>torchfunc.record<a class="headerlink" href="#module-torchfunc.record" title="Permalink to this headline">¶</a></h1>
<p><strong>This module allows you to record the state of your neural network in various situations
(for example activations value passing through it).</strong></p>
<p>Recorders are organized similarly to <code class="xref py py-obj docutils literal notranslate"><span class="pre">torch.nn.Module</span></code>’s hooks (e.g. <code class="xref py py-obj docutils literal notranslate"><span class="pre">backward</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">forward</span></code> and <code class="xref py py-obj docutils literal notranslate"><span class="pre">forward</span> <span class="pre">pre</span></code>).
Those will record data going out/in from/to <code class="xref py py-obj docutils literal notranslate"><span class="pre">torch.nn.Module</span></code> in backward or forward mode.</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># MNIST classifier</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Sequential</span><span class="p">(</span>
    <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Linear</span><span class="p">(</span><span class="mi">784</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span>
    <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">ReLU</span><span class="p">(),</span>
    <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Linear</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">),</span>
    <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">ReLU</span><span class="p">(),</span>
    <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Linear</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
<span class="p">)</span>
<span class="c1"># Recorder which sums layer inputs from consecutive forward calls</span>
<span class="n">recorder</span> <span class="o">=</span> <span class="n">torchfunc</span><span class="o">.</span><span class="n">record</span><span class="o">.</span><span class="n">ForwardPreRecorder</span><span class="p">(</span><span class="n">reduction</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span>
<span class="c1"># Record inputs going into Linear(100, 50) and Linear(50, 10)</span>
<span class="n">recorder</span><span class="o">.</span><span class="n">children</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">indices</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="c1"># Train your network normally (or pass data through it)</span>
<span class="o">...</span>
<span class="c1"># Save tensors (of shape 100 and 50) in folder, each named 1.pt and 2.pt respectively</span>
<span class="n">recorder</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="s2">&quot;./analysis&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p>You could specify types instead of indices (all inputs to torch.nn.Linear will be registered),
iterate over modules recursively instead of children etc.</p>
<p>See exact specification below.</p>
<dl class="class">
<dt id="torchfunc.record.BackwardInputRecorder">
<em class="property">class </em><code class="sig-prename descclassname">torchfunc.record.</code><code class="sig-name descname">BackwardInputRecorder</code><span class="sig-paren">(</span><em class="sig-param">register_method</em>, <em class="sig-param">method</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torchfunc/record.html#BackwardInputRecorder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torchfunc.record.BackwardInputRecorder" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>Record input gradients after those are calculated w.r.t. specified module.</strong></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>condition</strong> (<em>Callable</em><em>, </em><em>optional</em>) – No argument callable. If True returned, record data.
Can be used to save data based on external environment (e.g. dataset’s label).
If None, will record every data point. Default: <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>reduction</strong> (<em>Callable</em><em>, </em><em>optional</em>) – Operation to use on incoming data. Should take two arguments, and return one.
Acts similarly to reduction argument of Python’s itertools.reduce.
If None, data will be added to list, which may be very memory intensive.
Default: <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</dd>
</dl>
<dl class="attribute">
<dt id="torchfunc.record.BackwardInputRecorder.data">
<code class="sig-name descname">data</code><a class="headerlink" href="#torchfunc.record.BackwardInputRecorder.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Keeps data passing through hooks, optionally reduced by <a class="reference internal" href="#torchfunc.record.BackwardInputRecorder.reduction" title="torchfunc.record.BackwardInputRecorder.reduction"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reduction</span></code></a>.
Each item represents data for specified layer
(with the lower indices being closer to torch.nn.Module’s input).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>List</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="torchfunc.record.BackwardInputRecorder.handles">
<code class="sig-name descname">handles</code><a class="headerlink" href="#torchfunc.record.BackwardInputRecorder.handles" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles for registered hooks, each corresponds to specific submodule.
Can be used to unregister certain hooks (though discouraged).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>List[torch.utils.hooks.RemovableHandle]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="torchfunc.record.BackwardInputRecorder.samples">
<code class="sig-name descname">samples</code><a class="headerlink" href="#torchfunc.record.BackwardInputRecorder.samples" title="Permalink to this definition">¶</a></dt>
<dd><p>How many samples passed the condition. Useful for calculating running operations
(e.g. running mean).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="torchfunc.record.BackwardInputRecorder.condition">
<code class="sig-name descname">condition</code><em class="property"> = None</em><a class="headerlink" href="#torchfunc.record.BackwardInputRecorder.condition" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="torchfunc.record.BackwardInputRecorder.reduction">
<code class="sig-name descname">reduction</code><em class="property"> = None</em><a class="headerlink" href="#torchfunc.record.BackwardInputRecorder.reduction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="torchfunc.record.BackwardOutputRecorder">
<em class="property">class </em><code class="sig-prename descclassname">torchfunc.record.</code><code class="sig-name descname">BackwardOutputRecorder</code><span class="sig-paren">(</span><em class="sig-param">register_method</em>, <em class="sig-param">method</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torchfunc/record.html#BackwardOutputRecorder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torchfunc.record.BackwardOutputRecorder" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>Record output gradients after those are calculated w.r.t. specified module.</strong></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>condition</strong> (<em>Callable</em><em>, </em><em>optional</em>) – No argument callable. If True returned, record data.
Can be used to save data based on external environment (e.g. dataset’s label).
If None, will record every data point. Default: <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>reduction</strong> (<em>Callable</em><em>, </em><em>optional</em>) – Operation to use on incoming data. Should take two arguments, and return one.
Acts similarly to reduction argument of Python’s itertools.reduce.
If None, data will be added to list, which may be very memory intensive.
Default: <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</dd>
</dl>
<dl class="attribute">
<dt id="torchfunc.record.BackwardOutputRecorder.data">
<code class="sig-name descname">data</code><a class="headerlink" href="#torchfunc.record.BackwardOutputRecorder.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Keeps data passing through hooks, optionally reduced by <a class="reference internal" href="#torchfunc.record.BackwardOutputRecorder.reduction" title="torchfunc.record.BackwardOutputRecorder.reduction"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reduction</span></code></a>.
Each item represents data for specified layer
(with the lower indices being closer to torch.nn.Module’s input).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>List</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="torchfunc.record.BackwardOutputRecorder.handles">
<code class="sig-name descname">handles</code><a class="headerlink" href="#torchfunc.record.BackwardOutputRecorder.handles" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles for registered hooks, each corresponds to specific submodule.
Can be used to unregister certain hooks (though discouraged).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>List[torch.utils.hooks.RemovableHandle]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="torchfunc.record.BackwardOutputRecorder.samples">
<code class="sig-name descname">samples</code><a class="headerlink" href="#torchfunc.record.BackwardOutputRecorder.samples" title="Permalink to this definition">¶</a></dt>
<dd><p>How many samples passed the condition. Useful for calculating running operations
(e.g. running mean).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="torchfunc.record.BackwardOutputRecorder.condition">
<code class="sig-name descname">condition</code><em class="property"> = None</em><a class="headerlink" href="#torchfunc.record.BackwardOutputRecorder.condition" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="torchfunc.record.BackwardOutputRecorder.reduction">
<code class="sig-name descname">reduction</code><em class="property"> = None</em><a class="headerlink" href="#torchfunc.record.BackwardOutputRecorder.reduction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="torchfunc.record.ForwardInputRecorder">
<em class="property">class </em><code class="sig-prename descclassname">torchfunc.record.</code><code class="sig-name descname">ForwardInputRecorder</code><span class="sig-paren">(</span><em class="sig-param">register_method</em>, <em class="sig-param">method</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torchfunc/record.html#ForwardInputRecorder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torchfunc.record.ForwardInputRecorder" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>Record input values after forward of specified layer(s).</strong></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>condition</strong> (<em>Callable</em><em>, </em><em>optional</em>) – No argument callable. If True returned, record data.
Can be used to save data based on external environment (e.g. dataset’s label).
If None, will record every data point. Default: <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>reduction</strong> (<em>Callable</em><em>, </em><em>optional</em>) – Operation to use on incoming data. Should take two arguments, and return one.
Acts similarly to reduction argument of Python’s itertools.reduce.
If None, data will be added to list, which may be very memory intensive.
Default: <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</dd>
</dl>
<dl class="attribute">
<dt id="torchfunc.record.ForwardInputRecorder.data">
<code class="sig-name descname">data</code><a class="headerlink" href="#torchfunc.record.ForwardInputRecorder.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Keeps data passing through hooks, optionally reduced by <a class="reference internal" href="#torchfunc.record.ForwardInputRecorder.reduction" title="torchfunc.record.ForwardInputRecorder.reduction"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reduction</span></code></a>.
Each item represents data for specified layer
(with the lower indices being closer to torch.nn.Module’s input).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>List</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="torchfunc.record.ForwardInputRecorder.handles">
<code class="sig-name descname">handles</code><a class="headerlink" href="#torchfunc.record.ForwardInputRecorder.handles" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles for registered hooks, each corresponds to specific submodule.
Can be used to unregister certain hooks (though discouraged).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>List[torch.utils.hooks.RemovableHandle]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="torchfunc.record.ForwardInputRecorder.samples">
<code class="sig-name descname">samples</code><a class="headerlink" href="#torchfunc.record.ForwardInputRecorder.samples" title="Permalink to this definition">¶</a></dt>
<dd><p>How many samples passed the condition. Useful for calculating running operations
(e.g. running mean).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="torchfunc.record.ForwardInputRecorder.condition">
<code class="sig-name descname">condition</code><em class="property"> = None</em><a class="headerlink" href="#torchfunc.record.ForwardInputRecorder.condition" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="torchfunc.record.ForwardInputRecorder.reduction">
<code class="sig-name descname">reduction</code><em class="property"> = None</em><a class="headerlink" href="#torchfunc.record.ForwardInputRecorder.reduction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="torchfunc.record.ForwardOutputRecorder">
<em class="property">class </em><code class="sig-prename descclassname">torchfunc.record.</code><code class="sig-name descname">ForwardOutputRecorder</code><span class="sig-paren">(</span><em class="sig-param">register_method</em>, <em class="sig-param">method</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torchfunc/record.html#ForwardOutputRecorder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torchfunc.record.ForwardOutputRecorder" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>Record output values after forward of specified layer(s).</strong></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>condition</strong> (<em>Callable</em><em>, </em><em>optional</em>) – No argument callable. If True returned, record data.
Can be used to save data based on external environment (e.g. dataset’s label).
If None, will record every data point. Default: <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>reduction</strong> (<em>Callable</em><em>, </em><em>optional</em>) – Operation to use on incoming data. Should take two arguments, and return one.
Acts similarly to reduction argument of Python’s itertools.reduce.
If None, data will be added to list, which may be very memory intensive.
Default: <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</dd>
</dl>
<dl class="attribute">
<dt id="torchfunc.record.ForwardOutputRecorder.data">
<code class="sig-name descname">data</code><a class="headerlink" href="#torchfunc.record.ForwardOutputRecorder.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Keeps data passing through hooks, optionally reduced by <a class="reference internal" href="#torchfunc.record.ForwardOutputRecorder.reduction" title="torchfunc.record.ForwardOutputRecorder.reduction"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reduction</span></code></a>.
Each item represents data for specified layer
(with the lower indices being closer to torch.nn.Module’s input).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>List</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="torchfunc.record.ForwardOutputRecorder.handles">
<code class="sig-name descname">handles</code><a class="headerlink" href="#torchfunc.record.ForwardOutputRecorder.handles" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles for registered hooks, each corresponds to specific submodule.
Can be used to unregister certain hooks (though discouraged).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>List[torch.utils.hooks.RemovableHandle]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="torchfunc.record.ForwardOutputRecorder.samples">
<code class="sig-name descname">samples</code><a class="headerlink" href="#torchfunc.record.ForwardOutputRecorder.samples" title="Permalink to this definition">¶</a></dt>
<dd><p>How many samples passed the condition. Useful for calculating running operations
(e.g. running mean).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="torchfunc.record.ForwardOutputRecorder.condition">
<code class="sig-name descname">condition</code><em class="property"> = None</em><a class="headerlink" href="#torchfunc.record.ForwardOutputRecorder.condition" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="torchfunc.record.ForwardOutputRecorder.reduction">
<code class="sig-name descname">reduction</code><em class="property"> = None</em><a class="headerlink" href="#torchfunc.record.ForwardOutputRecorder.reduction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="torchfunc.record.ForwardPreRecorder">
<em class="property">class </em><code class="sig-prename descclassname">torchfunc.record.</code><code class="sig-name descname">ForwardPreRecorder</code><span class="sig-paren">(</span><em class="sig-param">condition: Callable = None</em>, <em class="sig-param">reduction: Callable = None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torchfunc/record.html#ForwardPreRecorder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torchfunc.record.ForwardPreRecorder" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>Record input values before forward of specified layer(s).</strong></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>condition</strong> (<em>Callable</em><em>, </em><em>optional</em>) – No argument callable. If True returned, record data.
Can be used to save data based on external environment (e.g. dataset’s label).
If None, will record every data point. Default: <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>reduction</strong> (<em>Callable</em><em>, </em><em>optional</em>) – Operation to use on incoming data. Should take two arguments, and return one.
Acts similarly to reduction argument of Python’s itertools.reduce.
If None, data will be added to list, which may be very memory intensive.
Default: <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</dd>
</dl>
<dl class="attribute">
<dt id="torchfunc.record.ForwardPreRecorder.data">
<code class="sig-name descname">data</code><a class="headerlink" href="#torchfunc.record.ForwardPreRecorder.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Keeps data passing through hooks, optionally reduced by <a class="reference internal" href="#torchfunc.record.ForwardPreRecorder.reduction" title="torchfunc.record.ForwardPreRecorder.reduction"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reduction</span></code></a>.
Each item represents data for specified layer
(with the lower indices being closer to torch.nn.Module’s input).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>List</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="torchfunc.record.ForwardPreRecorder.handles">
<code class="sig-name descname">handles</code><a class="headerlink" href="#torchfunc.record.ForwardPreRecorder.handles" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles for registered hooks, each corresponds to specific submodule.
Can be used to unregister certain hooks (though discouraged).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>List[torch.utils.hooks.RemovableHandle]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="torchfunc.record.ForwardPreRecorder.samples">
<code class="sig-name descname">samples</code><a class="headerlink" href="#torchfunc.record.ForwardPreRecorder.samples" title="Permalink to this definition">¶</a></dt>
<dd><p>How many samples passed the condition. Useful for calculating running operations
(e.g. running mean).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="torchfunc.record.ForwardPreRecorder.condition">
<code class="sig-name descname">condition</code><em class="property"> = None</em><a class="headerlink" href="#torchfunc.record.ForwardPreRecorder.condition" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="torchfunc.record.ForwardPreRecorder.reduction">
<code class="sig-name descname">reduction</code><em class="property"> = None</em><a class="headerlink" href="#torchfunc.record.ForwardPreRecorder.reduction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>


             </article>
             
            </div>
            <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../related.html" class="btn btn-neutral float-right" title="Related projects" accesskey="n" rel="next">Next <img src="../_static/images/chevron-right-orange.svg" class="next-page"></a>
      
      
        <a href="torchfunc.plot.html" class="btn btn-neutral" title="torchfunc.plot" accesskey="p" rel="prev"><img src="../_static/images/chevron-right-orange.svg" class="previous-page"> Previous</a>
      
    </div>
  

    <hr>

  <!-- Spacing. -->
  <div role="contentinfo">
  </div>
    
      <div>
        Built with Sphinx using <a href="https://github.com/pytorch/pytorch_sphinx_theme">PyTorch's theme</a> provided originally by <a href="https://readthedocs.org">Read the Docs</a>.
      </div>
      <div>
      </div>
    

  <div role="contentinfo">
  </div> 

</footer>
          </div>
        </div>

        <div class="pytorch-content-right" id="pytorch-content-right">
          <div class="pytorch-right-menu" id="pytorch-right-menu">
            <div class="pytorch-side-scroll" id="pytorch-side-scroll-right">
              <ul>
<li><a class="reference internal" href="#">torchfunc.record</a></li>
</ul>

            </div>
          </div>
        </div>
      </section>
    </div>

  


  

     
       <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
         <script type="text/javascript" src="../_static/jquery.js"></script>
         <script type="text/javascript" src="../_static/underscore.js"></script>
         <script type="text/javascript" src="../_static/doctools.js"></script>
         <script type="text/javascript" src="../_static/language_data.js"></script>
         <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.js"></script>
         <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/contrib/auto-render.min.js"></script>
         <script type="text/javascript" src="../_static/katex_autorenderer.js"></script>
     

  

  <script type="text/javascript" src="../_static/js/vendor/popper.min.js"></script>
  <script type="text/javascript" src="../_static/js/vendor/bootstrap.min.js"></script>
  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

  <!-- Begin Footer -->

  <footer class="site-footer">
    <div class="container footer-container">
      <div class="footer-logo-wrapper">
        <a href="" class="footer-logo"></a>
      </div>

      <div class="footer-links-wrapper">
        <div class="footer-links-col">
          <ul>
            <li class="list-title"><a href="https://szymonmaszke.github.io/torchfunc">Home</a></li>
            <li><a href="https://pytorch.org/docs/stable/index.html">PyTorch</a></li>
            <li><a href="https://szymonmaszke.github.io/torchfunc/#torchfunc">Documentation</a></li>
            <li><a href="https://szymonmaszke.github.io/torchfunc/#installation">Installation</a></li>
            <li><a href="https://github.com/szymonmaszke/torchfunc">GitHub</a></li>
            <li><a href="https://github.com/szymonmaszke/torchfunc/issues?q=is%3Aissue+is%3Aopen+sort%3Aupdated-desc">Github Issues</a></li>
            <li><a href="https://github.com/szymonmaszke/torchfunc/blob/master/ROADMAP.md">Roadmap</a></li>
            <li><a href="https://github.com/szymonmaszke" target="_blank">Author</a></li>
          </ul>
        </div>

        </div>
      </div>
    </div>
  </footer>

  <!-- End Footer -->

  <!-- Begin Mobile Menu -->

  <div class="mobile-main-menu">
    <div class="container-fluid">
      <div class="container">
        <div class="mobile-main-menu-header-container">
          <a class="header-logo" href="" aria-label="torchutils"></a>
          <a class="main-menu-close-button" href="#" data-behavior="close-mobile-menu"></a>
        </div>
      </div>
    </div>

    <div class="mobile-main-menu-links-container">
      <div class="main-menu">
        <ul>
          <li>
            <a href="https://szymonmaszke.github.io/torchfunc/#torchfunc">Docs</a>
          </li>

          <li>
            <a href="https://szymonmaszke.github.io/torchfunc/related.html">Related Projects</a>
          </li>

          <li>
            <a href="https://github.com/szymonmaszke/torchfunc">GitHub</a>
          </li>

        </ul>
      </div>
    </div>
  </div>

  <!-- End Mobile Menu -->

  <script type="text/javascript" src="../_static/js/vendor/anchor.min.js"></script>

  <script type="text/javascript">
    $(document).ready(function() {
      mobileMenu.bind();
      mobileTOC.bind();
      pytorchAnchors.bind();
      sideMenus.bind();
      scrollToAnchor.bind();
      highlightNavigation.bind();

      // Add class to links that have code blocks, since we cannot create links in code blocks
      $("article.pytorch-article a span.pre").each(function(e) {
        $(this).closest("a").addClass("has-code");
      });
    })
  </script>
</body>
</html>